"use strict";(self.webpackChunkcrm=self.webpackChunkcrm||[]).push([[678],{3678:(b,u,i)=>{i.r(u),i.d(u,{MainModule:()=>U});var g=i(2935),r=i(1083);const p=[{icon:"person",label:"Customer",routerLink:"/main/customer"},{icon:"store",label:"Product",routerLink:"/main/product"},{icon:"bar_chart",label:"Chart",routerLink:"/main/diagram"},{icon:"shopping_cart",label:"POS",routerLink:"/main/pos"}];var t=i(5e3),v=i(6128),M=i(5113),f=i(4594),C=i(7423),Z=i(8099),m=i(6688),d=i(9808),c=i(4889),h=i(4623);function T(n,e){if(1&n&&(t.TgZ(0,"mat-chip-avatar"),t._UZ(1,"img",13),t.qZA()),2&n){const o=t.oxw();t.xp6(1),t.Q6J("src",o.ui.user.avatarUrl,t.LSH)}}function x(n,e){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"person"),t.qZA())}function O(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(){return t.CHM(o),t.oxw(),t.MAs(20).toggle()}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()}if(2&n){const o=e.$implicit;t.Q6J("routerLink",o.routerLink)("routerLinkActive","active"),t.xp6(2),t.Oqu(o.icon),t.xp6(2),t.hij(" ",o.label," ")}}const y=[{path:"",component:(()=>{class n{constructor(o,a,l){this.authService=o,this.changeDetectorRef=a,this.media=l,this.ui={user:{email:"",avatarUrl:""}},this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>this.changeDetectorRef.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener),this.user=this.authService.$user.value,this.initUserUi()}get NavList(){return p}ngOnInit(){}logout(){this.authService.logout()}initUserUi(){var o,a,l,s;this.ui.user.email=null!==(a=null===(o=this.user)||void 0===o?void 0:o.email)&&void 0!==a?a:"",this.ui.user.avatarUrl=null!==(s=null===(l=this.user)||void 0===l?void 0:l.user_metadata.avatar_url)&&void 0!==s?s:""}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(v.e8),t.Y36(t.sBO),t.Y36(M.vx))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-main"]],decls:25,vars:10,consts:[[1,"main-container"],[1,"main-toolbar"],["mat-icon-button","",3,"click"],[1,"main-app-name"],[1,"main-spacer"],["aria-label","Dog selection"],[4,"ngIf","ngIfElse"],["PersonIcon",""],["mat-button","","color","primary",3,"click"],[1,"main-sidenav-container"],["fixedTopGap","56",3,"mode","fixedInViewport"],["Sidenav",""],["mat-list-item","",3,"routerLink","routerLinkActive","click",4,"ngFor","ngForOf"],[1,"main-avatar",3,"src"],["mat-list-item","",3,"routerLink","routerLinkActive","click"],[1,"nav-item-label"]],template:function(o,a){if(1&o){const l=t.EpF();t.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"button",2),t.NdJ("click",function(){return t.CHM(l),t.MAs(20).toggle()}),t.TgZ(3,"mat-icon"),t._uU(4,"menu"),t.qZA()(),t.TgZ(5,"h1",3),t._uU(6,"CRM"),t.qZA(),t._UZ(7,"span",4),t.TgZ(8,"mat-chip-list",5)(9,"mat-chip"),t.YNc(10,T,2,1,"mat-chip-avatar",6),t.YNc(11,x,2,0,"ng-template",null,7,t.W1O),t._uU(13),t.qZA()(),t.TgZ(14,"button",8),t.NdJ("click",function(){return a.logout()}),t.TgZ(15,"mat-icon"),t._uU(16,"logout"),t.qZA(),t._uU(17," \u767b\u51fa "),t.qZA()(),t.TgZ(18,"mat-sidenav-container",9)(19,"mat-sidenav",10,11)(21,"mat-nav-list"),t.YNc(22,O,5,4,"a",12),t.qZA()(),t.TgZ(23,"mat-sidenav-content"),t._UZ(24,"router-outlet"),t.qZA()()()}if(2&o){const l=t.MAs(12);t.ekj("main-is-mobile",a.mobileQuery.matches),t.xp6(10),t.Q6J("ngIf",a.ui.user.avatarUrl)("ngIfElse",l),t.xp6(3),t.hij(" ",a.ui.user.email," "),t.xp6(5),t.Udp("margin-top",a.mobileQuery.matches?56:0,"px"),t.xp6(1),t.Q6J("mode",a.mobileQuery.matches?"over":"side")("fixedInViewport",a.mobileQuery.matches),t.xp6(3),t.Q6J("ngForOf",a.NavList)}},directives:[f.Ye,C.lW,Z.Hw,m.qn,m.HS,d.O5,m.EC,c.TM,c.JX,h.Hk,d.sg,h.Tg,r.yS,r.Od,c.Rh,r.lC],styles:[".main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.main-is-mobile[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]{position:fixed;z-index:2}h1.main-app-name[_ngcontent-%COMP%]{margin-left:8px}.main-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.main-avatar[_ngcontent-%COMP%]{width:100%}.main-sidenav-container[_ngcontent-%COMP%]{flex:1}.main-is-mobile[_ngcontent-%COMP%]   .main-sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}.nav-item-label[_ngcontent-%COMP%]{margin:0 4px}.mat-list-item.active[_ngcontent-%COMP%]{background:rgba(63,81,181,.15);color:#3f51b5}.mat-list-item.active[_ngcontent-%COMP%]:hover{background:rgba(63,81,181,.3)}"]}),n})(),children:[{path:"customer",loadChildren:()=>i.e(213).then(i.bind(i,2213)).then(n=>n.CustomerModule)},{path:"diagram",loadChildren:()=>i.e(92).then(i.bind(i,9092)).then(n=>n.DiagramModule)},{path:"pos",loadChildren:()=>i.e(196).then(i.bind(i,2196)).then(n=>n.PosModule)},{path:"product",loadChildren:()=>i.e(550).then(i.bind(i,6550)).then(n=>n.ProductModule)},{path:"**",redirectTo:"customer"}]}];let A=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.Bz.forChild(y)],r.Bz]}),n})();i(9987),i(379);let U=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.I,A]]}),n})()}}]);