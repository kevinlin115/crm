<div class="module-container">

  <mat-tab-group>

    <!-- Product -->
    <mat-tab>

      <!-- Label -->
      <ng-template mat-tab-label>
        <mat-icon class="tab-icon">thumb_up</mat-icon>
        產品
      </ng-template>

      <!-- Content Header -->
      <div fxLayout="row"
           fxLayoutAlign="space-between end"
           [style.margin]="'1rem 0'">
        <h2 [style.margin]="0">
          產品列表
        </h2>
        <button type="button"
                mat-raised-button
                color="primary"
                (click)="showAddProduct();">
          新增產品
        </button>
      </div>
      <mat-divider></mat-divider>

      <!-- Content -->

    </mat-tab>

    <!-- Product Category -->
    <mat-tab>

      <!-- Label -->
      <ng-template mat-tab-label>
        <mat-icon class="tab-icon">category</mat-icon>
        產品類別
      </ng-template>

      <!-- Content Header -->
      <div fxLayout="row"
           fxLayoutAlign="space-between end"
           [style.margin]="'1rem 0'">
        <h2 [style.margin]="0">
          產品類別列表
        </h2>
        <button type="button"
                mat-raised-button
                color="primary"
                (click)="showAddProductCategory();">
          新增產品類別
        </button>
      </div>
      <mat-divider></mat-divider>

      <!-- Content -->
      <div *ngIf="ui.loadingCategories else TplCategoryList"
           fxLayout="row"
           fxLayoutAlign="center center"
           [style.padding]="'1rem'">

        <mat-progress-spinner [mode]="'indeterminate'"></mat-progress-spinner>
      </div>

      <ng-template #TplCategoryList>
        <table mat-table
               [dataSource]="categoryList"
               class="mat-elevation-z8">

          <!--- Note that these columns can be defined in any order.
              The actual rendered columns are set as a property on the row definition" -->

          <!-- ColumnOperation Column -->
          <ng-container [matColumnDef]="ColumnOperation">
            <th mat-header-cell
                *matHeaderCellDef> 操作 </th>
            <td mat-cell
                *matCellDef="let element; let i = index">
                {{i}}
              <mat-icon>menu</mat-icon>
            </td>
          </ng-container>

          <!-- Type Column -->
          <ng-container [matColumnDef]="PCColumn.type">
            <th mat-header-cell
                *matHeaderCellDef> 種類 </th>
            <td mat-cell
                *matCellDef="let element"> {{element[PCColumn.type]}} </td>
          </ng-container>

          <!-- Name Column -->
          <ng-container [matColumnDef]="PCColumn.order">
            <th mat-header-cell
                *matHeaderCellDef> Name </th>
            <td mat-cell
                *matCellDef="let element"> {{element[PCColumn.order]}} </td>
          </ng-container>

          <tr mat-header-row
              *matHeaderRowDef="categoryColumns"></tr>
          <tr mat-row
              *matRowDef="let row; columns: categoryColumns;"></tr>
        </table>


        <div cdkDropList
             class="example-list"
             (cdkDropListDropped)="categoryDrop($event)">
          <div class="example-box"
               *ngFor="let category of categoryList"
               cdkDrag>
            {{ category.type }}
          </div>
        </div>
      </ng-template>
    </mat-tab>

  </mat-tab-group>

</div>
