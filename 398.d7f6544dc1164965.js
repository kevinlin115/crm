"use strict";(self.webpackChunkcrm=self.webpackChunkcrm||[]).push([[398],{5398:(I,p,i)=>{i.r(p),i.d(p,{MainModule:()=>U});var g=i(766),c=i(4100);const b=[{icon:"person",label:"Customer",routerLink:"/main/customer"},{icon:"store",label:"Product",routerLink:"/main/product"},{icon:"bar_chart",label:"Chart",routerLink:"/main/diagram"},{icon:"shopping_cart",label:"POS",routerLink:"/main/pos"}];var t=i(5e3),f=i(4211),y=i(925);const h=new Set;let l,x=(()=>{class e{constructor(n){this._platform=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):L}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function C(e){if(!h.has(e))try{l||(l=document.createElement("style"),l.setAttribute("type","text/css"),document.head.appendChild(l)),l.sheet&&(l.sheet.insertRule(`@media ${e} {body{ }}`,0),h.add(e))}catch(a){console.error(a)}}(n),this._matchMedia(n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(y.t4))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function L(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}var O=i(4594),T=i(7423),Z=i(8099),m=i(6688),v=i(9808),u=i(4889),M=i(4623);function w(e,a){if(1&e&&(t.TgZ(0,"mat-chip-avatar"),t._UZ(1,"img",13),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("src",n.ui.user.avatarUrl,t.LSH)}}function k(e,a){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"person"),t.qZA())}function A(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(){return t.CHM(n),t.oxw(),t.MAs(20).toggle()}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()}if(2&e){const n=a.$implicit;t.Q6J("routerLink",n.routerLink)("routerLinkActive","active"),t.xp6(2),t.Oqu(n.icon),t.xp6(2),t.hij(" ",n.label," ")}}const Q=[{path:"",component:(()=>{class e{constructor(n,o,r){this.authService=n,this.changeDetectorRef=o,this.media=r,this.ui={user:{email:"",avatarUrl:""}},this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>this.changeDetectorRef.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener),this.user=this.authService.$user.value,this.initUserUi()}get NavList(){return b}ngOnInit(){}logout(){this.authService.logout()}initUserUi(){var n,o,r,s;this.ui.user.email=null!==(o=null===(n=this.user)||void 0===n?void 0:n.email)&&void 0!==o?o:"",this.ui.user.avatarUrl=null!==(s=null===(r=this.user)||void 0===r?void 0:r.user_metadata.avatar_url)&&void 0!==s?s:""}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(f.e8),t.Y36(t.sBO),t.Y36(x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-main"]],decls:25,vars:10,consts:[[1,"main-container"],[1,"main-toolbar"],["mat-icon-button","",3,"click"],[1,"main-app-name"],[1,"main-spacer"],["aria-label","Dog selection"],[4,"ngIf","ngIfElse"],["PersonIcon",""],["mat-button","","color","primary",3,"click"],[1,"main-sidenav-container"],["fixedTopGap","56",3,"mode","fixedInViewport"],["Sidenav",""],["mat-list-item","",3,"routerLink","routerLinkActive","click",4,"ngFor","ngForOf"],[1,"main-avatar",3,"src"],["mat-list-item","",3,"routerLink","routerLinkActive","click"],[1,"nav-item-label"]],template:function(n,o){if(1&n){const r=t.EpF();t.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"button",2),t.NdJ("click",function(){return t.CHM(r),t.MAs(20).toggle()}),t.TgZ(3,"mat-icon"),t._uU(4,"menu"),t.qZA()(),t.TgZ(5,"h1",3),t._uU(6,"CRM"),t.qZA(),t._UZ(7,"span",4),t.TgZ(8,"mat-chip-list",5)(9,"mat-chip"),t.YNc(10,w,2,1,"mat-chip-avatar",6),t.YNc(11,k,2,0,"ng-template",null,7,t.W1O),t._uU(13),t.qZA()(),t.TgZ(14,"button",8),t.NdJ("click",function(){return o.logout()}),t.TgZ(15,"mat-icon"),t._uU(16,"logout"),t.qZA(),t._uU(17," \u767b\u51fa "),t.qZA()(),t.TgZ(18,"mat-sidenav-container",9)(19,"mat-sidenav",10,11)(21,"mat-nav-list"),t.YNc(22,A,5,4,"a",12),t.qZA()(),t.TgZ(23,"mat-sidenav-content"),t._UZ(24,"router-outlet"),t.qZA()()()}if(2&n){const r=t.MAs(12);t.ekj("main-is-mobile",o.mobileQuery.matches),t.xp6(10),t.Q6J("ngIf",o.ui.user.avatarUrl)("ngIfElse",r),t.xp6(3),t.hij(" ",o.ui.user.email," "),t.xp6(5),t.Udp("margin-top",o.mobileQuery.matches?56:0,"px"),t.xp6(1),t.Q6J("mode",o.mobileQuery.matches?"over":"side")("fixedInViewport",o.mobileQuery.matches),t.xp6(3),t.Q6J("ngForOf",o.NavList)}},directives:[O.Ye,T.lW,Z.Hw,m.qn,m.HS,v.O5,m.EC,u.TM,u.JX,M.Hk,v.sg,M.Tg,c.yS,c.Od,u.Rh,c.lC],styles:[".main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.main-is-mobile[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]{position:fixed;z-index:2}h1.main-app-name[_ngcontent-%COMP%]{margin-left:8px}.main-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.main-avatar[_ngcontent-%COMP%]{width:100%}.main-sidenav-container[_ngcontent-%COMP%]{flex:1}.main-is-mobile[_ngcontent-%COMP%]   .main-sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}.nav-item-label[_ngcontent-%COMP%]{margin:0 4px}.mat-list-item.active[_ngcontent-%COMP%]{background:rgba(63,81,181,.15);color:#3f51b5}.mat-list-item.active[_ngcontent-%COMP%]:hover{background:rgba(63,81,181,.3)}"]}),e})(),children:[{path:"customer",loadChildren:()=>i.e(213).then(i.bind(i,2213)).then(e=>e.CustomerModule)},{path:"diagram",loadChildren:()=>i.e(92).then(i.bind(i,9092)).then(e=>e.DiagramModule)},{path:"pos",loadChildren:()=>i.e(196).then(i.bind(i,2196)).then(e=>e.PosModule)},{path:"product",loadChildren:()=>i.e(550).then(i.bind(i,6550)).then(e=>e.ProductModule)},{path:"**",redirectTo:"customer"}]}];let S=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.Bz.forChild(Q)],c.Bz]}),e})(),U=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.I,S]]}),e})()}}]);